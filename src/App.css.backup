import React, { useState } from 'react';
import RoutineSwiper from './components/RoutineSwiper';
import CreateRoutine from './components/CreateRoutine';
import './App.css';

function App() {
  const [currentView, setCurrentView] = useState('swiper'); // 'swiper' or 'create'
  const [routines, setRoutines] = useState([
    {
      id: 1,
      title: "Morning Workout",
      description: "Start your day with 30 minutes of exercise",
      category: "Build a Habit"
    },
    {
      id: 2,
      title: "Quit Social Media Scrolling",
      description: "Reduce mindless scrolling before bed",
      category: "Quit a Habit"
    },
    {
      id: 3,
      title: "Read 20 Pages Daily",
      description: "Finish 2 books this month",
      category: "Add a Goal"
    }
  ]);

  const handleCreateRoutine = () => {
    setCurrentView('create');
  };

  const handleBackToSwiper = () => {
    setCurrentView('swiper');
  };

  const handleAddRoutine = (newRoutine) => {
    setRoutines([...routines, { ...newRoutine, id: Date.now() }]);
    setCurrentView('swiper');
  };

  return (
    <div className="App">
      <header className="app-header">
        <h1 className="app-title">Routino</h1>
        <p className="app-subtitle">Build Better Habits</p>
      </header>

      {currentView === 'swiper' ? (
        <RoutineSwiper 
          routines={routines}
          onCreateRoutine={handleCreateRoutine}
        />
      ) : (
        <CreateRoutine 
          onBack={handleBackToSwiper}
          onSave={handleAddRoutine}
        />
      )}
    </div>
  );
}

export default App;
